(* A simple example using while loops. *)
let isPrime = fun n -> 
  if n = 1 then false else
    let isDivBy = fun a b -> (a / b) * b = a in 
    set (false, n - 1);
    while (get#2) > 1 do 
      set (get#1 || (isDivBy n (get#2)), get#2 - 1)
    done;
~get#1 
in 
isPrime 13
(* Should output true *)